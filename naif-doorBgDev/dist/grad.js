function isColorDark(r){return.299*r[0]+.587*r[1]+.114*r[2]<128}function gradBg(r,...e){let o=[];for(let e=0;e<r;e++)o.push(e/(r-1));let l=chroma.bezier(e);for(let r=0;r<wisH*pD;r++){let e=r/(wisH*pD),o=random(.01,.4),t=l(e).alpha(o);stroke(t.hex()),line(0,r,wisW,r)}}function gradDoors(r,e,...o){let l=[];for(let r=0;r<e;r++)l.push(r/(e-1));let t=chroma.bezier(o);for(let e=0;e<wisH*pD;e++){let o=e/(wisH*pD),l=random(.7,1),i=t(o).alpha(l);r.stroke(i.hex()),r.line(0,e,wisW,e)}}function doorsGrad(r,e,o,l,t,i,a,s){if(r.noFill(),"Y"===s)for(let s=o;s<=o+t;s++){var p=map(s,o,o+t,0,1),f=lerpColor(i,a,p);r.stroke(f),r.line(e,s,e+l,s)}else if("X"===s)for(let s=e;s<=e+l;s++){var n=map(s,e,e+l,0,1),m=lerpColor(i,a,n);r.stroke(m),r.line(s,o,s,o+t)}else if("R"===s){var d=e+l/2,k=o+t/2,h=dist(d,k,e,o);for(let s=e;s<=e+l;s++)for(let e=o;e<=o+t;e++){var u=dist(s,e,d,k),v=map(u,0,h,0,TWO_PI),c=map(v,0,TWO_PI,0,1),C=lerpColor(i,a,c);r.stroke(C),r.point(s,e)}}}function bgGrad(r,e,o,l,t,i,a){if(noFill(),"Y"===a)for(let a=e;a<=e+l;a++){var s=map(a,e,e+l,0,1),p=lerpColor(t,i,s);stroke(p),line(r,a,r+o,a)}else if("X"===a)for(let a=r;a<=r+o;a++){var f=map(a,r,r+o,0,1),n=lerpColor(t,i,f);stroke(n),line(a,e,a,e+l)}else if("R"===a){var m=r+o/2,d=e+l/2,k=dist(m,d,r,e);for(let a=r;a<=r+o;a++)for(let r=e;r<=e+l;r++){var h=dist(a,r,m,d),u=map(h,0,k,0,TWO_PI),v=map(u,0,TWO_PI,0,1),c=lerpColor(t,i,v);stroke(c),point(a,r)}}}